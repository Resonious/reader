document.addEventListener('DOMContentLoaded', () => {
  const zoomInput = document.getElementById('font-zoom')
  const content = document.getElementById('container').getElementsByTagName('article')[0]
  const defaultSize = 20

  const updateFontSize = () => {
    content.style.fontSize = `${zoomInput.value}px`

    if (zoomInput.value == defaultSize)
      localStorage.removeItem('fontsize')
    else
      localStorage.setItem('fontsize', zoomInput.value)
  }

  zoomInput.value = localStorage.getItem('fontsize') ?? defaultSize
  zoomInput.addEventListener('input', updateFontSize)
  updateFontSize()

  const resetButton = document.getElementById('reset-zoom')
  resetButton.addEventListener('click', () => {
    zoomInput.value = 20
    updateFontSize()
  })
})
